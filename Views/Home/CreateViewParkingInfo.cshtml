@model ParkingInfo
@{
    @*Using same view page for edit and create action. If the Id == 0 then it will be create action else it will be Edit*@
    ViewData["Title"] = (Model.Id==0)?"Create Parking Info":"Edit Parking Info";
}
@if(Model.Id==0)
{
    <h1>Create Parking Info</h1>
}
else
{
    <h1>Edit Parking Info</h1>
}

@using (Html.BeginForm((Model.Id == 0) ? "Create" : "Edit", "Home", FormMethod.Post))
{
    @if(Model.Id!=0)
    {
        @Html.HiddenFor(model => model.Id)
    }
    <div class="form-group">
        @Html.LabelFor(model => model.Title)
        @Html.TextBoxFor(model => model.Title, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
    </div>
    @if(Model.Id!=0)
    {
        <div class="form-group">
            @Html.LabelFor(model => model.Location.LocationName)
            @Html.DropDownListFor(model => model.Location.LocationName,
                            ViewBag.LocationList as List<SelectListItem>,
                            "Select a Location",
                            new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Location.LocationName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Type.ParkingTypeName)
            @Html.DropDownListFor(model => model.Type.ParkingTypeName,
                            ViewBag.TypeList as List<SelectListItem>,
                            "Select a Type",
                            new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Type.ParkingTypeName, "", new { @class = "text-danger" })
        </div>
    }
    else{
        <div class="form-group">
            @Html.LabelFor(model => model.Location.LocationName)
            @Html.DropDownListFor(model => model.Location.LocationName,
                                Model.locationList,
                                "Select a Location",
                                new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Location.LocationName, "", new { @class = "text-danger" })
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Type.ParkingTypeName)
            @Html.DropDownListFor(model => model.Type.ParkingTypeName,
                                Model.typeList,
                                "Select a Type",
                                new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Type.ParkingTypeName, "", new { @class = "text-danger" })
        </div>
    }
    <div class="form-group">
        @Html.LabelFor(model => model.Secure)
        @Html.TextBoxFor(model => model.Secure, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Secure, "", new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.LabelFor(model => model.CapacityNo)
        @Html.TextBoxFor(model => model.CapacityNo, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.CapacityNo, "", new { @class = "text-danger" })
    </div>
     <div class="form-group">
        @Html.LabelFor(model => model.Availability)
        @Html.TextBoxFor(model => model.Availability, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Availability, "", new { @class = "text-danger" })
    </div>
     <div class="form-group">
        @Html.LabelFor(model => model.Longitude)
        @Html.TextBoxFor(model => model.Longitude, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Longitude, "", new { @class = "text-danger" })
    </div>
     <div class="form-group">
        @Html.LabelFor(model => model.Latitude)
        @Html.TextBoxFor(model => model.Latitude, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Latitude, "", new { @class = "text-danger" })
    </div>
    
    @if(Model.Id==0)
    {
        <button type="submit" class="btn btn-primary mt-4 mb-4">Create</button>
    }
    else
    {
        <button type="submit" class="btn btn-primary mt-4 mb-4">Update</button>
    }
}
